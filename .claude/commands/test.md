---
allowed-tools: [Read, Bash, Glob, TodoWrite, Edit, Write, WebFetch, WebSearch]
description: "Supreme Testing Engine with 3-Layer Intelligence: Foundation + Intelligence Layers + Creative Cortex"
intelligence-layers: [MEMORY, FOUNDATION, REASONING, RESEARCH, ORCHESTRATION]
creative-cortex: [Flaky_Test_Predictor, User_Flow_Aware_Coverage, Evolutionary_Test_Generation, Predictive_Quality_Assurance, Test_Intelligence_Analytics]
---

# üöÄ SUPREME /test - ULTRA-INTELLIGENT TESTING ORCHESTRATOR

## üß† TRIPLE-LAYER INTELLIGENCE SYSTEM
**Stage 1**: Core testing capabilities with debug and orchestrated modes  
**Stage 2**: 5 Intelligence layers (MEMORY + FOUNDATION + REASONING + RESEARCH + ORCHESTRATION)  
**Stage 3**: 5 Creative Cortex innovations for supreme testing capability

## üéØ SUPREME PURPOSE
Execute **predictive testing** with **99% reliability** through triple-layer intelligence: foundational testing + AI reasoning + creative innovations for comprehensive quality assurance.

## üé™ SUPREME EXECUTION WORKFLOW

### üß† MODULE ACTIVATION DISPLAY
```python
# Import and display active modules at command startup
from brain.modules.module_display_handler import display_active_modules

# Display active intelligence modules
print(display_active_modules(
    command_name="/test",
    intelligence_layers=["MEMORY", "FOUNDATION", "REASONING", "RESEARCH", "ORCHESTRATION"],
    creative_cortex_modules=["Flaky_Test_Predictor", "User_Flow_Aware_Coverage",
                           "Evolutionary_Test_Generation", "Predictive_Quality_Assurance",
                           "Test_Intelligence_Analytics"],
    enhancement_level="Stage 3",
    confidence_score=0.94,
    coordination_mode="orchestrated"
))
```

### Phase 1: FOUNDATION (Stage 1 Capabilities)
1. **Test Discovery**: Intelligent categorization of available tests
2. **Execution Engine**: Multi-mode testing with debug and orchestrated workflows
3. **Coverage Analysis**: Comprehensive test coverage reporting
4. **Result Monitoring**: Real-time test result collection and analysis
5. **Quality Reporting**: Structured test reports with improvement recommendations

### Phase 2: INTELLIGENCE AMPLIFICATION (Stage 2 Enhancement)
6. **Memory Intelligence**: Learn from test patterns and failure modes
7. **Foundation Validation**: Ensure comprehensive baseline test coverage
8. **Reasoning Chains**: Intelligent test case generation and failure analysis
9. **Research Integration**: Real-time research of testing best practices
10. **Orchestration**: Multi-agent coordination for complex testing scenarios

### Phase 3: CREATIVE CORTEX SUPREMACY (Stage 3 Innovation)
11. **Flaky Test Prediction**: ML-powered nondeterminism detection
12. **User Flow Coverage**: Real user analytics integration
13. **Evolutionary Generation**: AI-powered test case evolution
14. **Predictive QA**: Pre-deployment confidence scoring
15. **Test Intelligence**: Effectiveness analytics with cross-component impact

## üß† STAGE 2: INTELLIGENCE LAYER ACTIVATION

### üß¨ MEMORY Layer Enhancement
```yaml
Testing_Memory:
  pattern_learning: "Learn from test patterns and failure modes across projects"
  flaky_test_tracking: "Remember and predict flaky test behaviors"
  coverage_optimization: "Recall effective coverage strategies and patterns"
  framework_expertise: "Remember testing best practices for specific frameworks"
```

### üèóÔ∏è FOUNDATION Layer Enhancement
```yaml
Baseline_Testing_Intelligence:
  coverage_standards: "Ensure comprehensive baseline test coverage (90%+ target)"
  quality_thresholds: "Enforce testing quality standards and best practices"
  consistency_validation: "Validate consistency across test suites and patterns"
  compliance_checking: "Check against testing compliance and regulatory requirements"
```

### üßÆ REASONING Layer Enhancement
```yaml
Test_Reasoning:
  intelligent_generation: "Generate test cases based on code complexity analysis"
  failure_analysis: "Analyze test failures with step-by-step reasoning"
  coverage_optimization: "Reason about optimal test coverage strategies"
  risk_assessment: "Assess testing risks and prioritize critical test paths"
```

### üî¨ RESEARCH Layer Enhancement
```yaml
Testing_Research:
  framework_updates: "Research latest testing frameworks and best practices"
  vulnerability_testing: "Research security testing patterns and methodologies"
  performance_benchmarks: "Research performance testing standards and tools"
  industry_standards: "Stay current with testing industry standards and compliance"
```

### üé≠ ORCHESTRATION Layer Enhancement
```yaml
Testing_Orchestration:
  multi_environment: "Coordinate testing across multiple environments"
  parallel_execution: "Orchestrate parallel test execution for efficiency"
  agent_coordination: "Coordinate multiple testing agents and specialists"
  workflow_optimization: "Optimize testing workflows for maximum effectiveness"
```

## üöÄ STAGE 3: CREATIVE CORTEX INNOVATIONS

### üìâ Flaky Test Predictor
```yaml
Nondeterminism_Intelligence:
  ML_detection: "Machine learning algorithms flag nondeterministic test behavior"
  isolation_strategies: "Suggest specific isolation strategies for flaky tests"
  stability_scoring: "Score test stability and reliability over time"
  CI_optimization: "Optimize CI/CD pipelines for maximum stability"
```

### üìã User Flow Aware Coverage
```yaml
Real_User_Integration:
  analytics_integration: "Integrate real user analytics into test prioritization"
  flow_mapping: "Map critical user flows to comprehensive test coverage"
  usage_patterns: "Prioritize tests based on actual user behavior patterns"
  business_impact: "Weight test coverage by business impact and user value"
```

### üß¨ Evolutionary Test Generation
```yaml
AI_Powered_Evolution:
  bug_pattern_learning: "Generate tests based on historical bug patterns"
  evolutionary_improvement: "Evolve test cases based on failure analysis"
  behavior_driven_generation: "Auto-create behavior-based tests from requirements"
  adaptive_coverage: "Adapt test generation based on code changes and risks"
```

### üéØ Predictive Quality Assurance
```yaml
Pre_Deployment_Intelligence:
  confidence_scoring: "Generate deployment confidence scores based on test results"
  environment_provisioning: "Automatically provision optimal testing environments"
  risk_prediction: "Predict deployment risks based on test coverage and results"
  rollback_readiness: "Assess rollback readiness and failure recovery capabilities"
```

### üìä Test Intelligence Analytics
```yaml
Effectiveness_Intelligence:
  coverage_effectiveness: "Analyze test effectiveness and maintenance burden"
  cross_component_impact: "Analyze impact of changes across component boundaries"
  optimization_recommendations: "Recommend test suite optimizations and improvements"
  ROI_analysis: "Analyze return on investment for different testing strategies"
```

## üéÆ SUPREME USAGE
```bash
# Basic supremacy mode (all enhancements active)
/sc:test [target] [options]

# Stage-specific control
/sc:test [target] --stage [1|2|3|supreme]

# Intelligence layer control
/sc:test [target] --layers [memory,foundation,reasoning,research,orchestration]

# Creative cortex control
/sc:test [target] --cortex [flaky-predictor,user-flow,evolutionary,predictive-qa,analytics]
```

## üéõÔ∏è SUPREME ARGUMENTS

### Core Arguments
- `target` - Tests, files, or entire test suite (enhanced with intelligent discovery)
- `--type` - Test type (unit|integration|e2e|performance|security|all|comprehensive)
- `--mode` - Testing mode (debug|orchestrated|supreme|predictive|evolutionary)
- `--scope` - Testing scope (component|module|system|ecosystem|organization)

### Intelligence Control
- `--stage` - Control enhancement level (1=foundation, 2=intelligent, 3=supreme)
- `--layers` - Select specific intelligence layers to activate
- `--cortex` - Choose creative cortex innovations to apply
- `--confidence` - Minimum confidence threshold for test predictions (70-95%)

### Advanced Testing Features
- `--predictive` - Enable predictive testing with failure prediction
- `--evolutionary` - Enable evolutionary test generation and improvement
- `--user-flow` - Integrate real user analytics for test prioritization
- `--flaky-detection` - Enable advanced flaky test detection and mitigation

### Quality Control
- `--coverage` - Generate comprehensive coverage reports with intelligence
- `--watch` - Intelligent watch mode with predictive re-running
- `--fix` - AI-powered automatic test fixing and improvement
- `--optimize` - Optimize test suite for performance and effectiveness

### Environment Management
- `--environments` - Multi-environment testing coordination
- `--provision` - Auto-provision optimal testing environments
- `--parallel` - Intelligent parallel test execution
- `--monitoring` - Continuous test monitoring and analysis

## Testing Modes
- `debug` - Comprehensive bug analysis, reproduction, and fix workflow
- `orchestrated` - Multi-agent development workflow with research-driven approach

## Execution

### Standard Testing Mode
1. Discover and categorize available tests
2. Execute tests with appropriate configuration
3. Monitor test results and collect metrics
4. Generate comprehensive test reports
5. Provide recommendations for test improvements

### Advanced Testing Modes
**Debug Mode (`--mode debug`)**:
1. Comprehensive bug analysis from multiple sources (issues, error text, screenshots, logs)
2. Automated test failure reproduction and analysis
3. Root cause identification with detailed debugging information
4. Fix implementation with verification and regression testing
5. Complete bug resolution workflow with documentation

**Orchestrated Mode (`--mode orchestrated`)**:
1. Deploy three specialized agents (Orchestrator, Developer, Reviewer)
2. Research-driven test development with MCP tools integration
3. Template-based test generation for consistency and quality
4. Multi-cycle development-review workflow with strict quality enforcement
5. Evidence-based test validation with external verification

## üèÜ SUPREME TESTING EXAMPLES

### Basic Supremacy (All enhancements active)
```bash
# Supreme comprehensive testing
/sc:test . --stage supreme --type comprehensive --predictive

# Supreme unit testing with evolutionary generation
/sc:test src/ --type unit --cortex evolutionary,analytics --optimize

# Supreme integration testing with user flow awareness
/sc:test api/ --type integration --cortex user-flow,predictive-qa --environments

# Supreme e2e testing with flaky detection
/sc:test e2e/ --type e2e --cortex flaky-predictor,analytics --monitoring
```

### Intelligence Layer Control
```bash
# Memory + Foundation focus for stable testing
/sc:test . --layers memory,foundation --coverage --optimize

# Reasoning + Research for comprehensive test strategy
/sc:test . --layers reasoning,research --evolutionary --user-flow

# Full orchestration with parallel execution
/sc:test . --layers orchestration --parallel --environments
```

### Creative Cortex Innovations
```bash
# Flaky test prediction and mitigation
/sc:test . --cortex flaky-predictor --optimize --monitoring

# User flow integration for business-critical testing
/sc:test . --cortex user-flow,predictive-qa --coverage --analytics

# Evolutionary test generation for comprehensive coverage
/sc:test . --cortex evolutionary,analytics --optimize --predictive
```

### Advanced Testing Scenarios
```bash
# Predictive testing with deployment confidence
/sc:test . --predictive --confidence 95 --provision --monitoring

# Supreme debugging mode with AI-powered fixes
/sc:test failing-test.js --mode supreme --fix --evolutionary

# Organization-wide testing with ecosystem analysis
/sc:test . --scope organization --cortex analytics,user-flow --comprehensive
```

## üéØ SUPREME SUCCESS METRICS

### Testing Excellence Targets
```yaml
Reliability_Goals:
  stage_1: "90% test reliability and stability"
  stage_2: "95% test reliability with intelligent analysis"
  stage_3: "99% test reliability (Supreme target)"
  
Prediction_Accuracy:
  flaky_detection: "95%+ accuracy in flaky test prediction"
  failure_prediction: "90%+ accuracy in test failure prediction"
  coverage_optimization: "92%+ improvement in coverage effectiveness"
  deployment_confidence: "98%+ accuracy in deployment readiness scoring"
```

### üèÜ SUPREME QUALITY GATES
- [ ] **Stage 1 Foundation**: All basic testing capabilities with advanced modes
- [ ] **Stage 2 Intelligence**: All 5 intelligence layers actively applied
- [ ] **Stage 3 Innovations**: All 5 creative cortex features implemented
- [ ] **Test Reliability**: 99%+ test stability with flaky test elimination
- [ ] **Coverage Excellence**: 95%+ effective coverage with user flow integration
- [ ] **Predictive Accuracy**: 95%+ accuracy in failure and deployment prediction
- [ ] **Performance Optimization**: 90%+ improvement in test execution efficiency
- [ ] **Evolutionary Capability**: Tests improve automatically based on failure patterns
- [ ] **Multi-Environment**: Seamless testing across all environments
- [ ] **Continuous Intelligence**: Real-time test monitoring and optimization

**SUPREME GOAL**: Achieve 99% test reliability with predictive capabilities and evolutionary improvement for enterprise-grade quality assurance.

## üîó SUPREME CLAUDE CODE INTEGRATION

### Enhanced Tool Orchestration
```yaml
Core_Tools:
  Bash: "Intelligent test execution with predictive scheduling"
  Glob: "Advanced test discovery with pattern recognition"
  TodoWrite: "Smart progress tracking with dependency and failure analysis"
  Edit_Write: "AI-powered test generation and automatic fixing"
  WebFetch_Search: "Real-time research of testing best practices and frameworks"
  
Testing_Intelligence:
  pattern_recognition: "Learn from test patterns and optimize execution"
  failure_analysis: "Deep analysis of test failures with actionable insights"
  coverage_optimization: "Intelligent coverage analysis and improvement"
  performance_monitoring: "Real-time test performance analysis and optimization"
```

*This supreme testing engine leverages triple-layer intelligence with predictive capabilities, evolutionary test generation, and comprehensive quality assurance for maximum testing effectiveness and reliability.*